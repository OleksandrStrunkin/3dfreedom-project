{"mappings":"AAAA,IAAMA,sBAAwB,CAE1BC,KAAM,MAUV,SAASC,gBAEDF,sBAAsBG,iBAAmBC,QAAQC,IAAI,cAEQC,uBAAtC,SAAWN,sBAAsBG,gBAG5D,IAAII,EAAOC,mBAEyD,OAAhEC,SAASC,cAAc,sBAAwBH,EAAO,OACtDE,SAASC,cAAc,sBAAwBH,EAAO,MAAMI,UAAUC,IAAI,yBAG1EL,GAAQP,sBAAsBC,MAGjBK,uBAAU,KAAMN,sBAAsBa,QAIjB,IAAlCC,OAAOC,UAAUC,iBAAiB,CAClCC,aAAcjB,sBAAsBC,OAIhBiB,sBAAF,QAAS,sBAAsB,SAAUC,GAC3Db,uBAAuB,IAAMN,sBAAsBC,KAAO,IAAMkB,EAAEC,aAAa,oBAAqBpB,sBAAsBa,QAErGQ,OAAdC,SAASC,YAIxB,SAASf,mBAGL,OADwCgB,MAA7BpB,QAASC,IAAI,cAAyD,QAA5BD,QAAQC,IAAI,aAA0BD,QAAQC,IAAI,aAAeL,sBAAsBC,MAChIwB,MAAK,oBAAqB,GAG1C,SAASnB,uBAAuBoB,EAAKb,GAEuBT,QAAhDuB,IAAI,YAAaD,GACzBtB,QAAQuB,IAAI,YAAaD,EAAK,CAC1Bb,OAAQ,IAAMJ,SAASI,SAGb,aAAVA,IAEJT,QAAQuB,IAAI,YAAaD,EAAK,CAC1Bb,OAAQA,IAGZT,QAAQuB,IAAI,YAAaD,EAAK,CAC1Bb,OAAQ,IAAMA,KAItB,SAASK,sBAAsBU,EAAOC,EAAUC,GAC5CrB,SAASsB,iBAAiBH,GAAO,SAAUT,GACvC,IAAIa,EAAKb,EAAEc,OAAOC,QAAQL,GACtBG,GAAIF,EAAQE","sources":["src/google-translate.js"],"sourcesContent":["const googleTranslateConfig = {\n    /* Original language */\n    lang: \"ua\",\n    /* The language we translate into on the first visit*/\n    /* Язык, на который переводим при первом посещении */\n    // langFirstVisit: 'en',\n    /* Если скрипт не работает на поддомене, \n    раскомментируйте и\n    укажите основной домен в свойстве domain */\n    /* domain: \"Get-Web.Site\" */\n};\n\nfunction TranslateInit() {\n\n    if (googleTranslateConfig.langFirstVisit && !Cookies.get('googtrans')) {\n        // Если установлен язык перевода для первого посещения и куки не назначены\n        TranslateCookieHandler(\"/auto/\" + googleTranslateConfig.langFirstVisit);\n    }\n\n    let code = TranslateGetCode();\n    // Находим флаг с выбранным языком для перевода и добавляем к нему активный класс\n    if (document.querySelector('[data-google-lang=\"' + code + '\"]') !== null) {\n        document.querySelector('[data-google-lang=\"' + code + '\"]').classList.add('language__link_active');\n    }\n\n    if (code == googleTranslateConfig.lang) {\n        // Если язык по умолчанию, совпадает с языком на который переводим\n        // То очищаем куки\n        TranslateCookieHandler(null, googleTranslateConfig.domain);\n    }\n\n    // Инициализируем виджет с языком по умолчанию\n    new google.translate.TranslateElement({\n        pageLanguage: googleTranslateConfig.lang,\n    });\n\n    // Вешаем событие  клик на флаги\n    TranslateEventHandler('click', '[data-google-lang]', function (e) {\n        TranslateCookieHandler(\"/\" + googleTranslateConfig.lang + \"/\" + e.getAttribute(\"data-google-lang\"), googleTranslateConfig.domain);\n        // Перезагружаем страницу\n        window.location.reload();\n    });\n}\n\nfunction TranslateGetCode() {\n    // Если куки нет, то передаем дефолтный язык\n    let lang = (Cookies.get('googtrans') != undefined && Cookies.get('googtrans') != \"null\") ? Cookies.get('googtrans') : googleTranslateConfig.lang;\n    return lang.match(/(?!^\\/)[^\\/]*$/gm)[0];\n}\n\nfunction TranslateCookieHandler(val, domain) {\n    // Записываем куки /язык_который_переводим/язык_на_который_переводим\n    Cookies.set('googtrans', val);\n    Cookies.set(\"googtrans\", val, {\n        domain: \".\" + document.domain,\n    });\n\n    if (domain == \"undefined\") return;\n    // записываем куки для домена, если он назначен в конфиге\n    Cookies.set(\"googtrans\", val, {\n        domain: domain,\n    });\n\n    Cookies.set(\"googtrans\", val, {\n        domain: \".\" + domain,\n    });\n}\n\nfunction TranslateEventHandler(event, selector, handler) {\n    document.addEventListener(event, function (e) {\n        let el = e.target.closest(selector);\n        if (el) handler(el);\n    });\n}"],"names":["googleTranslateConfig","lang","TranslateInit","langFirstVisit","Cookies","get","TranslateCookieHandler","code","TranslateGetCode","document","querySelector","classList","add","domain","google","translate","TranslateElement","pageLanguage","TranslateEventHandler","e","getAttribute","window","location","reload","undefined","match","val","set","event","selector","handler","addEventListener","el","target","closest"],"version":3,"file":"index.2b69d3d8.js.map"}